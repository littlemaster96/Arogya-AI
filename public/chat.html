<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat</title>
    <link rel="stylesheet" href="css/chat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <section>
        <header class="container">
            <div class="page-header">
                <div class="logo">
                    <a href="#">Arogya AI</a>
                </div>
                <input type="checkbox" id="click">
                <label for="click" class="mainicon">
                    <div class="menu">
                        <i class="fa-solid fa-bars"></i>
                    </div>
                </label>
                <ul>
                    <li><a href="index.html" class="active" style="--navAni:1">Home</a></li>
                    <li><a href="#" style="--navAni:2">Doctor Access</a></li>
                    <li><a href="chat.html" style="--navAni:3">AI Suggestion</a></li>
                    <li><a href="login.html" style="--navAni:5">Login & SignUp</a></li>
                </ul>
            </div>
        </header>
        <div class="main">
            <h1>Talk To <span style="color:#52489C;"> Arogya Ai</span></h1>
            <br>
            <p>
                Hello! Here to assist with any health questions. The more details, the better. Ask away for personalized help!
            </p>
            <br>
            <form id="chatForm">
                <label><h2>Share Your Problems<span style="color: red;">*</span></h2></label>
                <label class="custom-field one" for="chatName"> 
                    <input class="input__field" type="text" id="chatName" name="cname" autocomplete="off" placeholder=" " required /> 
                    <span class="placeholder">Enter your symptoms</span>
                </label>
                <br>
                <button class="addbtn" type="button" id="addQuestionsBtn" onclick="generateMedication()">Generate Medication</button><br>
                <button class="sbtbtn" type="submit" id="TakeactnBtn" style="display: none;">Take Action</button>
            </form>
        </div> 
        <div id="chatID"></div>
    </section>
    
    <script>
        function generateResponse(symptoms) {
            const responseMap = {
                "headache": {
                    causes: ["Dehydration", "Stress", "Eye strain"],
                    medications: ["Paracetamol", "Ibuprofen"],
                    prevention: "Drink plenty of water, manage stress, take breaks from screen time",
                    cost: "Paracetamol $5-10 (per bottle), Ibuprofen $5-10 (per bottle)"
                },

                "fever": {
                    causes: ["Infection", "Inflammation", "Heatstroke"],
                    medications: ["Acetaminophen", "Aspirin"],
                    prevention: "Maintain hygiene, get vaccinated, avoid crowded places",
                    cost: "Acetaminophen: $5-10 (per bottle), Aspirin: $3-7 (per bottle)"
                },

                "migraine": {
                    causes: ["Genetic factors", "Hormonal changes", "Triggers like certain foods or stress"],
                    medications: ["Sumatriptan", "Propranolol"],
                    prevention: "Identify and avoid triggers, Maintain regular sleep patterns,Manage stress effectively",
                    cost: "Sumatriptan $20-50 (per dose), Propranolol: $10-20 (per month)"
                    
                },


            };
            const response = { causes: [], medications: [], prevention: '', cost: '' };
        
            symptoms.forEach(symptom => {
                if (responseMap.hasOwnProperty(symptom)) {
                    response.causes.push(...responseMap[symptom].causes);
                    response.medications.push(...responseMap[symptom].medications);
                    response.prevention = responseMap[symptom].prevention;
                    response.cost = responseMap[symptom].cost;
                }
            });
            return response;
        }
        

        function generateMedication() {
            const symptomsInput = document.getElementById('chatName').value.toLowerCase();
            const symptoms = symptomsInput.split(' ').map(symptom => symptom.trim()); 

            const filteredSymptoms = symptoms.filter(symptom => symptom !== '');
        
            const response = generateResponse(filteredSymptoms);
            const responseDiv = document.createElement('div');
        
            if (response.causes.length > 0) {
                const causesHeader = document.createElement('h3');
                causesHeader.textContent = "Possible Causes:";
                responseDiv.appendChild(causesHeader);
        
                const causesList = document.createElement('ul');
                response.causes.forEach(cause => {
                    const causeItem = document.createElement('li');
                    causeItem.textContent = cause;
                    causesList.appendChild(causeItem);
                });
                responseDiv.appendChild(causesList);
            }
            if (response.medications.length > 0) {
                const medicationsHeader = document.createElement('h3');
                medicationsHeader.textContent = "Medications:";
                responseDiv.appendChild(medicationsHeader);
        
                const medicationsList = document.createElement('ul');
                response.medications.forEach(medication => {
                    const medicationItem = document.createElement('li');
                    medicationItem.textContent = medication;
                    medicationsList.appendChild(medicationItem);
                });
                responseDiv.appendChild(medicationsList);
            }
        
            if (response.prevention && response.cost) {
                const preventionHeader = document.createElement('h3');
                preventionHeader.textContent = "Prevention:";
                responseDiv.appendChild(preventionHeader);
        
                const preventionText = document.createElement('p');
                preventionText.textContent = response.prevention;
                responseDiv.appendChild(preventionText);
        
                const costHeader = document.createElement('h3');
                costHeader.textContent = "Estimated Cost:";
                responseDiv.appendChild(costHeader);
        
                const costText = document.createElement('p');
                costText.textContent = response.cost;
                responseDiv.appendChild(costText);
            }
        
            const existingResponse = document.getElementById('chatID');
            if (existingResponse.firstChild) {
                existingResponse.removeChild(existingResponse.firstChild);
            }
            document.getElementById('chatID').appendChild(responseDiv);
        }
        
        
    </script>
</body>
</html>


